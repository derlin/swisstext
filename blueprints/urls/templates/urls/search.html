{% extends '_layout.html' %}
{% set title = 'URLs' %}

{% block body %}
    {% from 'includes/_macros.html' import render_search_form %}

    {{ render_search_form(form, collapse) }}

    {% if urls %}
        {% if urls.total %}
            <p>{{ urls.total }} URLs found.</p>

            {% if urls.has_prev or urls.has_next %}
                {% from 'includes/_macros.html' import render_post_navigation %}
                {{ render_post_navigation(urls) }}
            {% endif %}

            <table class="table table-sm table-hover">
                <tr>
                    <th colspan="2">actions</th>
                    <th class="text-right ml-1 mr-1" title="Number of sentences found">
                        <span data-toggle="tooltip" data-placement="bottom"
                              title="Number of sentences found on this page.">#s</span>
                    </th>
                    <th>url</th>
                </tr>
                {% for url in urls.items %}
                    <tr>
                        <td>
                            <a class="btn btn-link btn-sm" href="{{ url_for('.details', id=url.id) }}">
                                <span class="oi oi-eye"></span>
                            </a>
                        </td>
                        <td>
                            <a class="btn btn-light btn-sm" href="{{ url.id }}" target="_blank">
                                <span class="oi oi-external-link"></span>
                            </a>
                        </td>
                        <td class="text-right ml-1 mr-1">{{ url.count }}</td>
                        <td>
                            <code>{{ url.id }}</code>
                        </td>
                    </tr>
                {% endfor %}
            </table>
        {% else %}
            <p class="alert alert-danger">No URL match this search.</p>
        {% endif %}
    {% endif %}

{% endblock %}