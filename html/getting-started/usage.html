

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Usage &mdash; SwissText  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Configuration options" href="confs.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> SwissText
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#installation-on-a-linux-server">Installation on a Linux server</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#installation-on-macos">Installation on MacOS</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#running-mongodb">Running MongoDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-frontend">Running the frontend</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-backend">Running the backend</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="confs.html">Configuration options</a><ul>
<li class="toctree-l2"><a class="reference internal" href="confs.html#current-best-pipeline-configuration">Current ?best? pipeline configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="confs.html#tool-dependencies">Tool dependencies</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/cmd/package.html">swisstext.cmd</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/cmd/package.html#module-swisstext.cmd.base_config">Configuration files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/cmd/package.html#module-swisstext.cmd.link_utils">Link utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/package.html#dealing-with-links-in-a-page">Dealing with links in a page</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/package.html#dealing-with-search-results">Dealing with search results</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/cmd/scraping/package.html">swisstext.cmd.scraping</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/cmd/scraping/package.html#st-scrape">st_scrape</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/scraping/package.html#st-scrape-dump-config">dump_config</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/scraping/package.html#st-scrape-from-file">from_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/scraping/package.html#st-scrape-from-mongo">from_mongo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/scraping/package.html#st-scrape-gen-seeds">gen_seeds</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/cmd/scraping/tool-interfaces.html">Tool interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/cmd/scraping/tool-implementations.html">Tool implementations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/scraping/tool-implementations.html#module-swisstext.cmd.scraping.tools.basic_decider">Deciders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/scraping/tool-implementations.html#module-swisstext.cmd.scraping.tools.basic_seed_creator">Seed creators</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/scraping/tool-implementations.html#module-swisstext.cmd.scraping.tools.bs_crawler">Crawlers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/scraping/tool-implementations.html#module-swisstext.cmd.scraping.tools.norm_punc">Normalizers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/scraping/tool-implementations.html#module-swisstext.cmd.scraping.tools.punkt_splitter">Splitters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/scraping/tool-implementations.html#module-swisstext.cmd.scraping.tools.pattern_sentence_filter">Sentence Filters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/scraping/tool-implementations.html#module-swisstext.cmd.scraping.tools.swigspot_langid">Language Detectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/scraping/tool-implementations.html#module-swisstext.cmd.scraping.tools.console_saver">Savers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/cmd/scraping/pipeline-implementation.html">Pipeline implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/scraping/pipeline-implementation.html#module-swisstext.cmd.scraping.config">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/scraping/pipeline-implementation.html#module-swisstext.cmd.scraping.data">Data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/scraping/pipeline-implementation.html#module-swisstext.cmd.scraping.page_queue">Queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/scraping/pipeline-implementation.html#module-swisstext.cmd.scraping.pipeline">Pipeline</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/cmd/searching/package.html">swisstext.cmd.searching</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/cmd/searching/package.html#st-search">st_search</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/searching/package.html#st-search-dump-config">dump_config</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/searching/package.html#st-search-from-file">from_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/searching/package.html#st-search-from-mongo">from_mongo</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/cmd/searching/tool-interfaces.html">Tool interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/cmd/searching/tool-implementations.html">Tool implementations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/searching/tool-implementations.html#module-swisstext.cmd.searching.tools.console_saver">Savers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/searching/tool-implementations.html#module-swisstext.cmd.searching.tools.google_search">Searchers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/cmd/searching/pipeline-implementation.html">Pipeline implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/searching/pipeline-implementation.html#module-swisstext.cmd.searching.config">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/searching/pipeline-implementation.html#module-swisstext.cmd.searching.data">Data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/cmd/searching/pipeline-implementation.html#module-swisstext.cmd.searching.pipeline">Search engine</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/mongo/package.html">swisstext.mongo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/mongo/package.html#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/mongo/package.html#collections">Collections</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/mongo/package.html#about-the-code">About the code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/mongo/definitions.html">Abstract Definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/mongo/definitions.html#module-swisstext.mongo.abstract.generic">Common structures and embedded documents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/mongo/definitions.html#module-swisstext.mongo.abstract.seeds">Seed collection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/mongo/definitions.html#module-swisstext.mongo.abstract.sentences">Sentences collection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/mongo/definitions.html#module-swisstext.mongo.abstract.urls">URLs and Blacklist collections</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/mongo/definitions.html#module-swisstext.mongo.abstract.users">Users collection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/mongo/definitions.html#module-swisstext.mongo.models">MongoEngine-ready classes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/alswiki/package.html">swisstext.alswiki</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/alswiki/package.html#st-alswiki">st_alswiki</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/alswiki/package.html#st-alswiki-download">download</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/alswiki/package.html#st-alswiki-parse">parse</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/alswiki/package.html#st-alswiki-process">process</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/alswiki/package.html#st-alswiki-txt">txt</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/alswiki/package.html#processing-alswiki-dumps">Processing Alswiki dumps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/alswiki/package.html#processing-text-files">Processing text files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../todos.html">TODOs</a></li>
</ul>
<p class="caption"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ideas.html">Ideas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ideas.html#sentence-filtering">Sentence Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ideas.html#url-filtering">URL Filtering</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../aboutthedoc.html">About this documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../aboutthedoc.html#generation">Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aboutthedoc.html#deploying-on-github-pages">Deploying on github-pages</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SwissText</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Usage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/derlin/swisstext/blob/master/docs/getting-started/usage.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="running-mongodb">
<h2>Running MongoDB<a class="headerlink" href="#running-mongodb" title="Permalink to this headline">¶</a></h2>
<p>To run the system, you need <strong>MongoDB</strong> available. The easiest way is to use docker:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># get the latest mongodb image</span>
docker pull mongo:latest

<span class="c1"># create a directory for persisting the database</span>
mkdir mongodir

<span class="c1"># launch a mongodb container called st-mongo</span>
docker run -d --name st-mongo -p <span class="m">27017</span>:27017 -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/mongodir:/data/db mongo
</pre></div>
</div>
<p>MongoDB is now running.</p>
</div>
<div class="section" id="running-the-frontend">
<h2>Running the frontend<a class="headerlink" href="#running-the-frontend" title="Permalink to this headline">¶</a></h2>
<p>The easiest way to run the frontend is by calling the <code class="docutils literal notranslate"><span class="pre">st_frontend</span></code> script. Use the <code class="docutils literal notranslate"><span class="pre">--help</span></code> option for usage.
This will run Flask, but as clearly stated in their documentation, this should be avoided in a real environment.</p>
<p>To launch the frontend in a <strong>production-like</strong> fashion, the one way is to use <a class="reference external" href="http://gunicorn.org/">gunicon</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># install gunicorn and its dependencies</span>
pip install  gunicorn

<span class="c1"># run the frontend using gunicorn (instead of st_frontend)</span>
<span class="c1"># note that the actual port is setup with the gunicorn --bind option</span>
gunicorn --preload --log-level<span class="o">=</span>info --bind<span class="o">=</span>:80 <span class="s2">&quot;swisstext.frontend.__main__:init_app()&quot;</span>

<span class="c1"># You can also pass parameters to the app through the init_app call. Here is an example:</span>
gunicorn --preload --log-level<span class="o">=</span>info --bind<span class="o">=</span>:80 <span class="se">\</span>
    <span class="s2">&quot;swisstext.frontend.__main__:init_app(debug=True, mongo_host=&#39;192.131.23.10&#39;, mongo_port=27000, db=&#39;st1&#39;)&quot;</span>

<span class="c1"># to use gevent and multiple workers</span>
pip install gevent
gunicorn -k gevent -w <span class="m">2</span> <span class="s1">&#39;swisstext.frontend.__main__:init_app()&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="running-the-backend">
<h2>Running the backend<a class="headerlink" href="#running-the-backend" title="Permalink to this headline">¶</a></h2>
<p>To run the <strong>backend</strong>, just call the <code class="docutils literal notranslate"><span class="pre">st_scrape</span></code> and <code class="docutils literal notranslate"><span class="pre">st_search</span></code> scripts.</p>
<p>If you want to customize how the system works, you can do it via a YAML configuration file. Note that
you can use one single file for both scrape and search as options don’t clash with one another and no error
is thrown if unknown options are set.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="../api/cmd/package.html#module-swisstext.cmd" title="swisstext.cmd"><code class="xref py py-mod docutils literal notranslate"><span class="pre">swisstext.cmd</span></code></a></dt><dd><p>For usage examples</p>
</dd>
</dl>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="confs.html" class="btn btn-neutral float-right" title="Configuration options" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Lucy Linder

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>