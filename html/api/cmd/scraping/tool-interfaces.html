

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tool interfaces &mdash; SwissText  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Tool implementations" href="tool-implementations.html" />
    <link rel="prev" title="swisstext.cmd.scraping" href="package.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> SwissText
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../getting-started/installation.html#installation-on-a-linux-server">Installation on a Linux server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting-started/installation.html#installation-on-macos">Installation on MacOS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/usage.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../getting-started/usage.html#running-mongodb">Running MongoDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting-started/usage.html#running-the-frontend">Running the frontend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting-started/usage.html#running-the-backend">Running the backend</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/confs.html">Configuration options</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../getting-started/confs.html#current-best-pipeline-configuration">Current ?best? pipeline configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting-started/confs.html#tool-dependencies">Tool dependencies</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">API Overview</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../package.html">swisstext.cmd</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../package.html#module-swisstext.cmd.base_config">Configuration files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../package.html#module-swisstext.cmd.link_utils">Link utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../package.html#dealing-with-links-in-a-page">Dealing with links in a page</a></li>
<li class="toctree-l4"><a class="reference internal" href="../package.html#dealing-with-search-results">Dealing with search results</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="package.html">swisstext.cmd.scraping</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="package.html#st-scrape">st_scrape</a><ul>
<li class="toctree-l4"><a class="reference internal" href="package.html#st-scrape-dump-config">dump_config</a></li>
<li class="toctree-l4"><a class="reference internal" href="package.html#st-scrape-from-file">from_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="package.html#st-scrape-from-mongo">from_mongo</a></li>
<li class="toctree-l4"><a class="reference internal" href="package.html#st-scrape-gen-seeds">gen_seeds</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Tool interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="tool-implementations.html">Tool implementations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tool-implementations.html#module-swisstext.cmd.scraping.tools.basic_decider">Deciders</a></li>
<li class="toctree-l4"><a class="reference internal" href="tool-implementations.html#module-swisstext.cmd.scraping.tools.basic_seed_creator">Seed creators</a></li>
<li class="toctree-l4"><a class="reference internal" href="tool-implementations.html#module-swisstext.cmd.scraping.tools.bs_crawler">Crawlers</a></li>
<li class="toctree-l4"><a class="reference internal" href="tool-implementations.html#module-swisstext.cmd.scraping.tools.norm_punc">Normalizers</a></li>
<li class="toctree-l4"><a class="reference internal" href="tool-implementations.html#module-swisstext.cmd.scraping.tools.punkt_splitter">Splitters</a></li>
<li class="toctree-l4"><a class="reference internal" href="tool-implementations.html#module-swisstext.cmd.scraping.tools.pattern_sentence_filter">Sentence Filters</a></li>
<li class="toctree-l4"><a class="reference internal" href="tool-implementations.html#module-swisstext.cmd.scraping.tools.swigspot_langid">Language Detectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="tool-implementations.html#module-swisstext.cmd.scraping.tools.console_saver">Savers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pipeline-implementation.html">Pipeline implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pipeline-implementation.html#module-swisstext.cmd.scraping.config">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="pipeline-implementation.html#module-swisstext.cmd.scraping.data">Data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="pipeline-implementation.html#module-swisstext.cmd.scraping.page_queue">Queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="pipeline-implementation.html#module-swisstext.cmd.scraping.pipeline">Pipeline</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../searching/package.html">swisstext.cmd.searching</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../searching/package.html#st-search">st_search</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../searching/package.html#st-search-dump-config">dump_config</a></li>
<li class="toctree-l4"><a class="reference internal" href="../searching/package.html#st-search-from-file">from_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../searching/package.html#st-search-from-mongo">from_mongo</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../searching/tool-interfaces.html">Tool interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../searching/tool-implementations.html">Tool implementations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../searching/tool-implementations.html#module-swisstext.cmd.searching.tools.console_saver">Savers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../searching/tool-implementations.html#module-swisstext.cmd.searching.tools.google_search">Searchers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../searching/pipeline-implementation.html">Pipeline implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../searching/pipeline-implementation.html#module-swisstext.cmd.searching.config">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../searching/pipeline-implementation.html#module-swisstext.cmd.searching.data">Data structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../searching/pipeline-implementation.html#module-swisstext.cmd.searching.pipeline">Search engine</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../mongo/package.html">swisstext.mongo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../mongo/package.html#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mongo/package.html#collections">Collections</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mongo/package.html#about-the-code">About the code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mongo/definitions.html">Abstract Definitions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../mongo/definitions.html#module-swisstext.mongo.abstract.generic">Common structures and embedded documents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../mongo/definitions.html#module-swisstext.mongo.abstract.seeds">Seed collection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../mongo/definitions.html#module-swisstext.mongo.abstract.sentences">Sentences collection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../mongo/definitions.html#module-swisstext.mongo.abstract.urls">URLs and Blacklist collections</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../mongo/definitions.html#module-swisstext.mongo.abstract.users">Users collection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../mongo/definitions.html#module-swisstext.mongo.models">MongoEngine-ready classes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../alswiki/package.html">swisstext.alswiki</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../alswiki/package.html#st-alswiki">st_alswiki</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../alswiki/package.html#st-alswiki-download">download</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../alswiki/package.html#st-alswiki-parse">parse</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../alswiki/package.html#st-alswiki-process">process</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../alswiki/package.html#st-alswiki-txt">txt</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../alswiki/package.html#processing-alswiki-dumps">Processing Alswiki dumps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../alswiki/package.html#processing-text-files">Processing text files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../todos.html">TODOs</a></li>
</ul>
<p class="caption"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../ideas.html">Ideas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../ideas.html#sentence-filtering">Sentence Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../ideas.html#url-filtering">URL Filtering</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../aboutthedoc.html">About this documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../aboutthedoc.html#generation">Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../aboutthedoc.html#deploying-on-github-pages">Deploying on github-pages</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">SwissText</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">API Overview</a> &raquo;</li>
        
          <li><a href="package.html">swisstext.cmd.scraping</a> &raquo;</li>
        
      <li>Tool interfaces</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/derlin/swisstext/blob/master/docs/api/cmd/scraping/tool-interfaces.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-swisstext.cmd.scraping.interfaces">
<span id="tool-interfaces"></span><h1>Tool interfaces<a class="headerlink" href="#module-swisstext.cmd.scraping.interfaces" title="Permalink to this headline">¶</a></h1>
<p>This module defines interfaces for each tool or decision maker used in the scraping process.
This makes it easy to test new ways or to tune one aspect of the scraper while keeping most of the code unchanged.</p>
<p>See the <a class="reference internal" href="tool-implementations.html#module-swisstext.cmd.scraping.tools" title="swisstext.cmd.scraping.tools"><code class="xref py py-mod docutils literal notranslate"><span class="pre">swisstext.cmd.scraping.tools</span></code></a> module for implementations.</p>
<dl class="class">
<dt id="swisstext.cmd.scraping.interfaces.ICrawler">
<em class="property">class </em><code class="sig-prename descclassname">swisstext.cmd.scraping.interfaces.</code><code class="sig-name descname">ICrawler</code><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ICrawler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ICrawler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></a></p>
<p>[ABSTRACT] This tool is in charge of crawling a page. More specifically, it should be able to:
1. extract the text of the page (stripped of any HTML or other structural clue),
2. extract links pointing to other pages</p>
<dl class="exception">
<dt id="swisstext.cmd.scraping.interfaces.ICrawler.CrawlError">
<em class="property">exception </em><code class="sig-name descname">CrawlError</code><span class="sig-paren">(</span><em class="sig-param">name='CrawlError'</em>, <em class="sig-param">message=''</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ICrawler.CrawlError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ICrawler.CrawlError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>This wrapper should be used for any exception that arise during scraping.</p>
<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ICrawler.CrawlError.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">name='CrawlError'</em>, <em class="sig-param">message=''</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ICrawler.CrawlError.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ICrawler.CrawlError.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ICrawler.CrawlError.from_ex">
<em class="property">classmethod </em><code class="sig-name descname">from_ex</code><span class="sig-paren">(</span><em class="sig-param">e: Exception</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ICrawler.CrawlError.from_ex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ICrawler.CrawlError.from_ex" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an exception using the original exception name and repr</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="swisstext.cmd.scraping.interfaces.ICrawler.CrawlResults">
<em class="property">class </em><code class="sig-name descname">CrawlResults</code><span class="sig-paren">(</span><em class="sig-param">text: str, links: List[str]</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ICrawler.CrawlResults"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ICrawler.CrawlResults" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Holds the results of a page crawl.</p>
<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ICrawler.CrawlResults.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">text: str, links: List[str]</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ICrawler.CrawlResults.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ICrawler.CrawlResults.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ICrawler.CrawlResults.empty">
<em class="property">classmethod </em><code class="sig-name descname">empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ICrawler.CrawlResults.empty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ICrawler.CrawlResults.empty" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="swisstext.cmd.scraping.interfaces.ICrawler.CrawlResults.links">
<code class="sig-name descname">links</code><em class="property"> = None</em><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ICrawler.CrawlResults.links" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of interesting links found in the page. By interesting, we mean:
* no duplicates
* different from the current page URL (no anchors !)
* if possible, no link pointing to unparseable resources (zip files, images, etc.)
The method <a class="reference internal" href="../package.html#swisstext.cmd.link_utils.filter_links" title="swisstext.cmd.link_utils.filter_links"><code class="xref py py-meth docutils literal notranslate"><span class="pre">swisstext.cmd.link_utils.filter_links()</span></code></a> is available to do the filtering.</p>
</dd></dl>

<dl class="attribute">
<dt id="swisstext.cmd.scraping.interfaces.ICrawler.CrawlResults.text">
<code class="sig-name descname">text</code><em class="property"> = None</em><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ICrawler.CrawlResults.text" title="Permalink to this definition">¶</a></dt>
<dd><p>the clean text found in the page, free of any structural marker such as HTML tags, etc.</p>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ICrawler.crawl">
<em class="property">abstract </em><code class="sig-name descname">crawl</code><span class="sig-paren">(</span><em class="sig-param">url: str</em><span class="sig-paren">)</span> &#x2192; swisstext.cmd.scraping.interfaces.ICrawler.CrawlResults<a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ICrawler.crawl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ICrawler.crawl" title="Permalink to this definition">¶</a></dt>
<dd><p>[ABSTRACT]
Should crawl the page and extract the text and the links into a <a class="reference internal" href="#swisstext.cmd.scraping.interfaces.ICrawler.CrawlResults" title="swisstext.cmd.scraping.interfaces.ICrawler.CrawlResults"><code class="xref py py-class docutils literal notranslate"><span class="pre">ICrawler.CrawlResults</span></code></a> instance.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="swisstext.cmd.scraping.interfaces.IDecider">
<em class="property">class </em><code class="sig-prename descclassname">swisstext.cmd.scraping.interfaces.</code><code class="sig-name descname">IDecider</code><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#IDecider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.IDecider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A decider should implement the logic behind whether or not a URL is considered interesting/should be crawled.</p>
<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.IDecider.should_children_be_crawled">
<code class="sig-name descname">should_children_be_crawled</code><span class="sig-paren">(</span><em class="sig-param">page: swisstext.cmd.scraping.data.Page</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#IDecider.should_children_be_crawled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.IDecider.should_children_be_crawled" title="Permalink to this definition">¶</a></dt>
<dd><p>Decide if the links found on a page should be scraped on this run. Returns true by default.</p>
</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.IDecider.should_page_be_crawled">
<code class="sig-name descname">should_page_be_crawled</code><span class="sig-paren">(</span><em class="sig-param">page: swisstext.cmd.scraping.data.Page</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#IDecider.should_page_be_crawled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.IDecider.should_page_be_crawled" title="Permalink to this definition">¶</a></dt>
<dd><p>Decide if a page should be scraped on this run. By default, it returns always true, but we could devise other
rules based on the last crawl, etc.</p>
</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.IDecider.should_url_be_blacklisted">
<code class="sig-name descname">should_url_be_blacklisted</code><span class="sig-paren">(</span><em class="sig-param">page: swisstext.cmd.scraping.data.Page</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#IDecider.should_url_be_blacklisted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.IDecider.should_url_be_blacklisted" title="Permalink to this definition">¶</a></dt>
<dd><p>Decide if a URL/page is blacklisted. The default implementation returns true if the URL has never been
visited before <em>and</em> contains no Swiss German sentence. The <em>new</em> criteria is important to avoid blacklisting
a page that changed over time, but contained once interesting sentences (and thus might be referenced in
the persistence layer).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="swisstext.cmd.scraping.interfaces.INormalizer">
<em class="property">class </em><code class="sig-prename descclassname">swisstext.cmd.scraping.interfaces.</code><code class="sig-name descname">INormalizer</code><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#INormalizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.INormalizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A normalizer should take a [long] text (extracted from a web page) and clean it in a consistant way.
For example: uncurling quotes, normalizing punctuation, fix unicode, etc.
The default implementation just return the text as-is.</p>
<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.INormalizer.normalize">
<code class="sig-name descname">normalize</code><span class="sig-paren">(</span><em class="sig-param">text: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#INormalizer.normalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.INormalizer.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>This should be overriden. The default implementation just returns the text as-is.</p>
</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.INormalizer.normalize_all">
<code class="sig-name descname">normalize_all</code><span class="sig-paren">(</span><em class="sig-param">texts: List[str]</em><span class="sig-paren">)</span> &#x2192; List[str]<a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#INormalizer.normalize_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.INormalizer.normalize_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls normalize on each element of text.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="swisstext.cmd.scraping.interfaces.ISaver">
<em class="property">class </em><code class="sig-prename descclassname">swisstext.cmd.scraping.interfaces.</code><code class="sig-name descname">ISaver</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISaver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISaver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></a></p>
<p>[ABSTRACT] The saver is responsible for persisting everything somewhere, such as a database, a file or the console.</p>
<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ISaver.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISaver.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISaver.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ISaver.blacklist_url">
<em class="property">abstract </em><code class="sig-name descname">blacklist_url</code><span class="sig-paren">(</span><em class="sig-param">url: str</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISaver.blacklist_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISaver.blacklist_url" title="Permalink to this definition">¶</a></dt>
<dd><p>[ABSTRACT] Add the <cite>url</cite> to a blacklist.</p>
</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ISaver.get_page">
<code class="sig-name descname">get_page</code><span class="sig-paren">(</span><em class="sig-param">url: str</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISaver.get_page"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISaver.get_page" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a page. The simplest implementation is just <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">Page(url)</span></code>.
If the subclass uses a data store, it should also populate the other page attributes (e.g. the score
information) so that the :py:class::<cite>IDecider</cite> can make clever decisions.</p>
</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ISaver.is_url_blacklisted">
<em class="property">abstract </em><code class="sig-name descname">is_url_blacklisted</code><span class="sig-paren">(</span><em class="sig-param">url: str</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISaver.is_url_blacklisted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISaver.is_url_blacklisted" title="Permalink to this definition">¶</a></dt>
<dd><p>[ABSTRACT] Tells if the given <cite>url</cite> is part of the blacklist. This is called at the beginning,
to avoid scraping pages unnecessarily.</p>
</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ISaver.save_page">
<em class="property">abstract </em><code class="sig-name descname">save_page</code><span class="sig-paren">(</span><em class="sig-param">page: swisstext.cmd.scraping.data.Page</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISaver.save_page"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISaver.save_page" title="Permalink to this definition">¶</a></dt>
<dd><p>[ABSTRACT] Persist a page.
This is called after the scraping, so all page’s attributes are set, including the
list of new :py:class::<cite>~swisstext.cmd.scraping.data.Sentence</cite> found.</p>
</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ISaver.save_seed">
<em class="property">abstract </em><code class="sig-name descname">save_seed</code><span class="sig-paren">(</span><em class="sig-param">seed: str</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISaver.save_seed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISaver.save_seed" title="Permalink to this definition">¶</a></dt>
<dd><p>[ABSTRACT] Persist a seed (usually generated by the :py:class::<cite>ISeedGenerator</cite>).</p>
</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ISaver.save_seeds">
<code class="sig-name descname">save_seeds</code><span class="sig-paren">(</span><em class="sig-param">seeds: List[str]</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISaver.save_seeds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISaver.save_seeds" title="Permalink to this definition">¶</a></dt>
<dd><p>Persist multiple seeds (see <a class="reference internal" href="#swisstext.cmd.scraping.interfaces.ISaver.save_seed" title="swisstext.cmd.scraping.interfaces.ISaver.save_seed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save_seed()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ISaver.save_url">
<em class="property">abstract </em><code class="sig-name descname">save_url</code><span class="sig-paren">(</span><em class="sig-param">url: str</em>, <em class="sig-param">parent: str = None</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISaver.save_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISaver.save_url" title="Permalink to this definition">¶</a></dt>
<dd><p>[ABSTRACT] Save a potentially interesting URL which won’t be visited during this round
(e.g. max_depth reached).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – the url</p></li>
<li><p><strong>parent</strong> – the parent url</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ISaver.sentence_exists">
<em class="property">abstract </em><code class="sig-name descname">sentence_exists</code><span class="sig-paren">(</span><em class="sig-param">sentence: str</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISaver.sentence_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISaver.sentence_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>[ABSTRACT] Tells if the given Swiss German <cite>sentence</cite> already exists.
Only new sentences will be added to the page’s <a class="reference internal" href="pipeline-implementation.html#swisstext.cmd.scraping.data.Page.new_sg" title="swisstext.cmd.scraping.data.Page.new_sg"><code class="xref py py-attr docutils literal notranslate"><span class="pre">new_sg</span></code></a> attribute.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="swisstext.cmd.scraping.interfaces.ISeedCreator">
<em class="property">class </em><code class="sig-prename descclassname">swisstext.cmd.scraping.interfaces.</code><code class="sig-name descname">ISeedCreator</code><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISeedCreator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISeedCreator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></a></p>
<p>[ABSTRACT] A seed creator should generate seeds, i.e. search queries, out of Swiss German sentences.</p>
<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ISeedCreator.generate_seeds">
<em class="property">abstract </em><code class="sig-name descname">generate_seeds</code><span class="sig-paren">(</span><em class="sig-param">sentences: List[str], max=10, stopwords: List[str] = []</em><span class="sig-paren">)</span> &#x2192; List[str]<a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISeedCreator.generate_seeds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISeedCreator.generate_seeds" title="Permalink to this definition">¶</a></dt>
<dd><p>[ABSTRACT] Should generate interesting seeds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sentences</strong> – the sentences</p></li>
<li><p><strong>max</strong> – maximum number of seeds to return</p></li>
<li><p><strong>stopwords</strong> – an optional list of words to exclude from generated seeds</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of seeds</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="swisstext.cmd.scraping.interfaces.ISentenceFilter">
<em class="property">class </em><code class="sig-prename descclassname">swisstext.cmd.scraping.interfaces.</code><code class="sig-name descname">ISentenceFilter</code><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISentenceFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISentenceFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A sentence filter should be able to tell if a given sentence is well-formed (i.e. valid) or not.</p>
<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ISentenceFilter.filter">
<code class="sig-name descname">filter</code><span class="sig-paren">(</span><em class="sig-param">sentences: List[str]</em><span class="sig-paren">)</span> &#x2192; List[str]<a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISentenceFilter.filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISentenceFilter.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter a list of sentences by calling <a class="reference internal" href="#swisstext.cmd.scraping.interfaces.ISentenceFilter.is_valid" title="swisstext.cmd.scraping.interfaces.ISentenceFilter.is_valid"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ISentenceFilter.is_valid()</span></code></a> on each element.</p>
</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ISentenceFilter.is_valid">
<code class="sig-name descname">is_valid</code><span class="sig-paren">(</span><em class="sig-param">sentence: str</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISentenceFilter.is_valid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISentenceFilter.is_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>This should be overriden. The default implementation just returns true.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="swisstext.cmd.scraping.interfaces.ISgDetector">
<em class="property">class </em><code class="sig-prename descclassname">swisstext.cmd.scraping.interfaces.</code><code class="sig-name descname">ISgDetector</code><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISgDetector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISgDetector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>[ABSTRACT] An SG Detector is a Language Identifier supporting Swiss German.</p>
<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ISgDetector.predict">
<em class="property">abstract </em><code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">sentences: List[str]</em><span class="sig-paren">)</span> &#x2192; List[float]<a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISgDetector.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISgDetector.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict the Swiss German probability (between 0 and 1) of a list of sentences.
Always return 1 by default.</p>
</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ISgDetector.predict_one">
<code class="sig-name descname">predict_one</code><span class="sig-paren">(</span><em class="sig-param">sentence: str</em><span class="sig-paren">)</span> &#x2192; float<a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISgDetector.predict_one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISgDetector.predict_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Call <a class="reference internal" href="#swisstext.cmd.scraping.interfaces.ISgDetector.predict" title="swisstext.cmd.scraping.interfaces.ISgDetector.predict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">predict()</span></code></a> with one sentence.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="swisstext.cmd.scraping.interfaces.ISplitter">
<em class="property">class </em><code class="sig-prename descclassname">swisstext.cmd.scraping.interfaces.</code><code class="sig-name descname">ISplitter</code><a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISplitter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISplitter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A splitter should take a [long] text (extracted from a web page) and split it into well-formed sentences.
The default implementation just splits on the newline character.</p>
<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ISplitter.split">
<code class="sig-name descname">split</code><span class="sig-paren">(</span><em class="sig-param">text: str</em><span class="sig-paren">)</span> &#x2192; List[str]<a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISplitter.split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISplitter.split" title="Permalink to this definition">¶</a></dt>
<dd><p>This should be overriden. The default implementation just splits on newlines.</p>
</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.scraping.interfaces.ISplitter.split_all">
<code class="sig-name descname">split_all</code><span class="sig-paren">(</span><em class="sig-param">texts: List[str]</em><span class="sig-paren">)</span> &#x2192; List[str]<a class="reference internal" href="../../../_modules/swisstext/cmd/scraping/interfaces.html#ISplitter.split_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.scraping.interfaces.ISplitter.split_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a list of texts and returns a list of sentences (see <a class="reference internal" href="#swisstext.cmd.scraping.interfaces.ISplitter.split" title="swisstext.cmd.scraping.interfaces.ISplitter.split"><code class="xref py py-meth docutils literal notranslate"><span class="pre">split()</span></code></a>).</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tool-implementations.html" class="btn btn-neutral float-right" title="Tool implementations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="package.html" class="btn btn-neutral float-left" title="swisstext.cmd.scraping" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Lucy Linder

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>