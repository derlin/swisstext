
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Pipeline implementation &#8212; SwissText  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="AlsWiki dumps parser" href="swisstext.alswiki.html" />
    <link rel="prev" title="Command line searching tools" href="swisstext.cmd.searching.tools.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="swisstext.alswiki.html" title="AlsWiki dumps parser"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="swisstext.cmd.searching.tools.html" title="Command line searching tools"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">SwissText  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="apireference.html" >API Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="swisstext.cmd.html" >Commandline tools</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="swisstext.cmd.searching.html" accesskey="U">Searching commandline tool</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pipeline-implementation">
<h1>Pipeline implementation<a class="headerlink" href="#pipeline-implementation" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="module-swisstext.cmd.searching.config">
<span id="configuration"></span><h1>Configuration<a class="headerlink" href="#module-swisstext.cmd.searching.config" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="swisstext.cmd.searching.config.Config">
<em class="property">class </em><code class="descclassname">swisstext.cmd.searching.config.</code><code class="descname">Config</code><span class="sig-paren">(</span><em>config: Union[str</em>, <em>dict</em>, <em>io.IOBase] = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/swisstext/cmd/searching/config.html#Config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.searching.config.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="swisstext.cmd.html#swisstext.cmd.base_config.BaseConfig" title="swisstext.cmd.base_config.BaseConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">swisstext.cmd.base_config.BaseConfig</span></code></a></p>
<p>The default configuration file for the searching pipeline (search engine) is defined in <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code>.
This is the best way to understand what options are available.</p>
<dl class="class">
<dt id="swisstext.cmd.searching.config.Config.Options">
<em class="property">class </em><code class="descname">Options</code><span class="sig-paren">(</span><em>max_results=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/swisstext/cmd/searching/config.html#Config.Options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.searching.config.Config.Options" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="attribute">
<dt id="swisstext.cmd.searching.config.Config.Options.max_results">
<code class="descname">max_results</code><em class="property"> = None</em><a class="headerlink" href="#swisstext.cmd.searching.config.Config.Options.max_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Max number of URLs retrieved in one search.
Note that this is only the number of URLs returned by the search engine, not the number of
URLs added to the db. Indeed, duplicates or uninteresting URLs won’t be saved.</p>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.searching.config.Config.create_search_engine">
<code class="descname">create_search_engine</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; swisstext.cmd.searching.pipeline.SearchEngine<a class="reference internal" href="_modules/swisstext/cmd/searching/config.html#Config.create_search_engine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.searching.config.Config.create_search_engine" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate a search engine from the YAML configuration.</p>
</dd></dl>

<dl class="attribute">
<dt id="swisstext.cmd.searching.config.Config.interfaces_package">
<code class="descname">interfaces_package</code><a class="headerlink" href="#swisstext.cmd.searching.config.Config.interfaces_package" title="Permalink to this definition">¶</a></dt>
<dd><p>Should return the complete package where the interfaces are defined, if any.
In case this is defined and a tool is missing from the list, we will try to instantiate
the interface instead.</p>
</dd></dl>

<dl class="attribute">
<dt id="swisstext.cmd.searching.config.Config.tool_entry_name">
<code class="descname">tool_entry_name</code><a class="headerlink" href="#swisstext.cmd.searching.config.Config.tool_entry_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Should return the name of the tool_entries option, i.e. the YAML path to the dictionary of
[interface name, canonical class to instantiate].</p>
</dd></dl>

<dl class="attribute">
<dt id="swisstext.cmd.searching.config.Config.valid_tool_entries">
<code class="descname">valid_tool_entries</code><a class="headerlink" href="#swisstext.cmd.searching.config.Config.valid_tool_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Should return the list of valid tool entries under the <a class="reference internal" href="#swisstext.cmd.searching.config.Config.tool_entry_name" title="swisstext.cmd.searching.config.Config.tool_entry_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tool_entry_name</span></code></a>.
Note that the order of tools in the list defines the order of tools instances returned by
<code class="xref py py-meth docutils literal notranslate"><span class="pre">instantiate_tools()</span></code>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-swisstext.cmd.searching.data">
<span id="data-structures"></span><h1>Data structures<a class="headerlink" href="#module-swisstext.cmd.searching.data" title="Permalink to this headline">¶</a></h1>
<p>This module defines the generic data structures used across the module / between the different tools.
They have been thought to be decoupled from MongoDB for better flexibility/adaptability.</p>
<dl class="class">
<dt id="swisstext.cmd.searching.data.Seed">
<em class="property">class </em><code class="descclassname">swisstext.cmd.searching.data.</code><code class="descname">Seed</code><span class="sig-paren">(</span><em>query: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/swisstext/cmd/searching/data.html#Seed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.searching.data.Seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Holds informations on a seed, i.e. a query.</p>
<dl class="attribute">
<dt id="swisstext.cmd.searching.data.Seed.new_links">
<code class="descname">new_links</code><em class="property"> = None</em><a class="headerlink" href="#swisstext.cmd.searching.data.Seed.new_links" title="Permalink to this definition">¶</a></dt>
<dd><p>the new links found after the search</p>
</dd></dl>

<dl class="attribute">
<dt id="swisstext.cmd.searching.data.Seed.query">
<code class="descname">query</code><em class="property"> = None</em><a class="headerlink" href="#swisstext.cmd.searching.data.Seed.query" title="Permalink to this definition">¶</a></dt>
<dd><p>the query terms</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-swisstext.cmd.searching.pipeline">
<span id="search-engine"></span><h1>Search engine<a class="headerlink" href="#module-swisstext.cmd.searching.pipeline" title="Permalink to this headline">¶</a></h1>
<p>This module contains the core of the searching system.</p>
<dl class="class">
<dt id="swisstext.cmd.searching.pipeline.SearchEngine">
<em class="property">class </em><code class="descclassname">swisstext.cmd.searching.pipeline.</code><code class="descname">SearchEngine</code><span class="sig-paren">(</span><em>searcher: swisstext.cmd.searching.interfaces.ISearcher</em>, <em>saver: swisstext.cmd.searching.interfaces.ISaver</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/swisstext/cmd/searching/pipeline.html#SearchEngine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.searching.pipeline.SearchEngine" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>The search engine implements all the logic of searching seeds and persisting results.</p>
<p>Note that this class is usually instantiated by a <a class="reference internal" href="#swisstext.cmd.searching.config.Config" title="swisstext.cmd.searching.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">Config</span></code></a> object.</p>
<dl class="attribute">
<dt id="swisstext.cmd.searching.pipeline.SearchEngine.new_urls">
<code class="descname">new_urls</code><em class="property"> = None</em><a class="headerlink" href="#swisstext.cmd.searching.pipeline.SearchEngine.new_urls" title="Permalink to this definition">¶</a></dt>
<dd><p>the list of URLs discovered during the lifetime of the object</p>
</dd></dl>

<dl class="method">
<dt id="swisstext.cmd.searching.pipeline.SearchEngine.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>seeds: List[swisstext.cmd.searching.data.Seed], max_results=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/swisstext/cmd/searching/pipeline.html#SearchEngine.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#swisstext.cmd.searching.pipeline.SearchEngine.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the magic.</p>
<p>Note that this method has not been implemented having multithreading in minds, as most of the time
search engine APIs are limited and pretty fast…</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Pipeline implementation</a></li>
<li><a class="reference internal" href="#module-swisstext.cmd.searching.config">Configuration</a></li>
<li><a class="reference internal" href="#module-swisstext.cmd.searching.data">Data structures</a></li>
<li><a class="reference internal" href="#module-swisstext.cmd.searching.pipeline">Search engine</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="swisstext.cmd.searching.tools.html"
                        title="previous chapter">Command line searching tools</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="swisstext.alswiki.html"
                        title="next chapter">AlsWiki dumps parser</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/swisstext.cmd.searching.impl.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="swisstext.alswiki.html" title="AlsWiki dumps parser"
             >next</a> |</li>
        <li class="right" >
          <a href="swisstext.cmd.searching.tools.html" title="Command line searching tools"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">SwissText  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="apireference.html" >API Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="swisstext.cmd.html" >Commandline tools</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="swisstext.cmd.searching.html" >Searching commandline tool</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Lucy Linder.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.1.
    </div>
  </body>
</html>