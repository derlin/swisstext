
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Usage &#8212; SwissText  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">SwissText  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="running-mongodb">
<h2>Running MongoDB<a class="headerlink" href="#running-mongodb" title="Permalink to this headline">¶</a></h2>
<p>To run the system, you need <strong>MongoDB</strong> available. The easiest way is to use docker:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># get the latest mongodb image</span>
docker pull mongo:latest

<span class="c1"># create a directory for persisting the database</span>
mkdir mongodir

<span class="c1"># launch a mongodb container called st-mongo</span>
docker run -d --name st-mongo -p <span class="m">27017</span>:27017 -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/mongodir:/data/db mongo
</pre></div>
</div>
<p>MongoDB is now running.</p>
</div>
<div class="section" id="running-the-frontend">
<h2>Running the frontend<a class="headerlink" href="#running-the-frontend" title="Permalink to this headline">¶</a></h2>
<p>The easiest way to run the frontend is by calling the <code class="docutils literal notranslate"><span class="pre">st_frontend</span></code> script. Use the <code class="docutils literal notranslate"><span class="pre">--help</span></code> option for usage.
This will run Flask, but as clearly stated in their documentation, this should be avoided in a real environment.</p>
<p>To launch the frontend in a <strong>production-like</strong> fashion, the one way is to use <a class="reference external" href="http://gunicorn.org/">gunicon</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># install gunicorn and its dependencies</span>
pip install gevent greenlet gunicorn

<span class="c1"># run the frontend using gunicorn (instead of st_frontend)</span>
<span class="c1"># note that the actual port is setup with the gunicorn --bind option</span>
gunicorn --preload --log-level<span class="o">=</span>info --bind<span class="o">=</span>:80 <span class="s2">&quot;swisstext.frontend.server:init_app()&quot;</span>

<span class="c1"># You can also pass parameters to the app through the init_app call. Here is an example:</span>
gunicorn --preload --log-level<span class="o">=</span>info --bind<span class="o">=</span>:80 <span class="se">\</span>
    <span class="s2">&quot;swisstext.frontend.server:init_app(debug=True, mongo_host=&#39;192.131.23.10&#39;, mongo_port=27000, db=&#39;st1&#39;)&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="running-the-backend">
<h2>Running the backend<a class="headerlink" href="#running-the-backend" title="Permalink to this headline">¶</a></h2>
<p>To run the <strong>backend</strong>, just call the <code class="docutils literal notranslate"><span class="pre">st_scrape</span></code> and <code class="docutils literal notranslate"><span class="pre">st_search</span></code> scripts.</p>
<p>If you want to customize how the system works, you can do it via a YAML configuration file. Note that
you can use one single file for both scrape and search as options don’t clash with one another and no error
is thrown if unknown options are set.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Usage</a><ul>
<li><a class="reference internal" href="#running-mongodb">Running MongoDB</a></li>
<li><a class="reference internal" href="#running-the-frontend">Running the frontend</a></li>
<li><a class="reference internal" href="#running-the-backend">Running the backend</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">Installation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/usage.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">SwissText  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Lucy Linder.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>